
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>Code review - Carbon Language</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#code-review" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Carbon Language" class="md-header__button md-logo" aria-label="Carbon Language" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Carbon Language
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Code review
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Carbon Language" class="md-nav__button md-logo" aria-label="Carbon Language" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Carbon Language
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Docs
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Design
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Design" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Design
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/" class="md-nav__link">
        Language design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/aliases/" class="md-nav__link">
        Aliases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/blocks_and_statements/" class="md-nav__link">
        Blocks and statements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/classes/" class="md-nav__link">
        Classes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/functions/" class="md-nav__link">
        Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/metaprogramming/" class="md-nav__link">
        Metaprogramming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/name_lookup/" class="md-nav__link">
        Name lookup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/naming_conventions/" class="md-nav__link">
        Naming conventions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/pattern_matching/" class="md-nav__link">
        Pattern matching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/primitive_types/" class="md-nav__link">
        Primitive types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/tuples/" class="md-nav__link">
        Tuples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/type_inference/" class="md-nav__link">
        Type inference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/variables/" class="md-nav__link">
        Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_15" type="checkbox" id="__nav_2_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_15">
          Code and name organization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code and name organization" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_15">
          <span class="md-nav__icon md-icon"></span>
          Code and name organization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/code_and_name_organization/" class="md-nav__link">
        Code and name organization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/code_and_name_organization/source_files/" class="md-nav__link">
        Source files
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_16" type="checkbox" id="__nav_2_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_16">
          Control flow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Control flow" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_16">
          <span class="md-nav__icon md-icon"></span>
          Control flow
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/control_flow/" class="md-nav__link">
        Control flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/control_flow/conditionals/" class="md-nav__link">
        Control flow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/control_flow/loops/" class="md-nav__link">
        Loops
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/control_flow/return/" class="md-nav__link">
        `return`
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_17" type="checkbox" id="__nav_2_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_17">
          Expressions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Expressions" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_17">
          <span class="md-nav__icon md-icon"></span>
          Expressions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/" class="md-nav__link">
        Expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/arithmetic/" class="md-nav__link">
        Arithmetic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/as_expressions/" class="md-nav__link">
        `as` expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/bitwise/" class="md-nav__link">
        Bitwise and shift operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/comparison_operators/" class="md-nav__link">
        Comparison operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/if/" class="md-nav__link">
        `if` expressions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/implicit_conversions/" class="md-nav__link">
        Implicit conversions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/logical_operators/" class="md-nav__link">
        Logical operators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/expressions/member_access/" class="md-nav__link">
        Qualified names and member access
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_18" type="checkbox" id="__nav_2_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_18">
          Generics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Generics" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_18">
          <span class="md-nav__icon md-icon"></span>
          Generics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/generics/" class="md-nav__link">
        Generics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/generics/appendix-coherence/" class="md-nav__link">
        Carbon: alternatives to coherence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/generics/details/" class="md-nav__link">
        Generics: Details
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/generics/goals/" class="md-nav__link">
        Generics: Goals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/generics/overview/" class="md-nav__link">
        Generics: Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/generics/terminology/" class="md-nav__link">
        Generics: Terminology
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_19" type="checkbox" id="__nav_2_19" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_19">
          Interoperability
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Interoperability" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_19">
          <span class="md-nav__icon md-icon"></span>
          Interoperability
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/interoperability/" class="md-nav__link">
        Bidirectional interoperability with C/C++
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/interoperability/philosophy_and_goals/" class="md-nav__link">
        Interoperability philosophy and goals
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_20" type="checkbox" id="__nav_2_20" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_20">
          Lexical conventions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lexical conventions" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_20">
          <span class="md-nav__icon md-icon"></span>
          Lexical conventions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/lexical_conventions/" class="md-nav__link">
        Lexical conventions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/lexical_conventions/numeric_literals/" class="md-nav__link">
        Numeric literals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/lexical_conventions/string_literals/" class="md-nav__link">
        String literals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/lexical_conventions/whitespace/" class="md-nav__link">
        Whitespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../design/lexical_conventions/words/" class="md-nav__link">
        Words
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Guides
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Guides" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/" class="md-nav__link">
        Guides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Images
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Images" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Images
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../images/snippets/" class="md-nav__link">
        Front page snippets for Carbon
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Project
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Project" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Project
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Project
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Code review
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Code review
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-goals-of-code-review" class="md-nav__link">
    High level goals of code review
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-requires-review" class="md-nav__link">
    What requires review?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#who-should-review" class="md-nav__link">
    Who should review?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-pull-request-mechanics" class="md-nav__link">
    GitHub pull request mechanics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-author-guide" class="md-nav__link">
    Code author guide
  </a>
  
    <nav class="md-nav" aria-label="Code author guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#write-good-change-descriptions" class="md-nav__link">
    Write good change descriptions
  </a>
  
    <nav class="md-nav" aria-label="Write good change descriptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-line" class="md-nav__link">
    First line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#body" class="md-nav__link">
    Body
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-small-changes" class="md-nav__link">
    Make small changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responding-to-review-comments" class="md-nav__link">
    Responding to review comments
  </a>
  
    <nav class="md-nav" aria-label="Responding to review comments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#responding-to-questions-or-confusion" class="md-nav__link">
    Responding to questions or confusion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understand-the-feedback-in-the-comments" class="md-nav__link">
    Understand the feedback in the comments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-reviewer-guide" class="md-nav__link">
    Code reviewer guide
  </a>
  
    <nav class="md-nav" aria-label="Code reviewer guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-quickly-should-you-respond-to-a-review-request" class="md-nav__link">
    How quickly should you respond to a review request?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-should-be-covered-by-a-review" class="md-nav__link">
    What should be covered by a review?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-review-comments" class="md-nav__link">
    Writing review comments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approving-the-change" class="md-nav__link">
    Approving the change
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merging-pull-requests" class="md-nav__link">
    Merging pull requests
  </a>
  
    <nav class="md-nav" aria-label="Merging pull requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#merge-commit-descriptions" class="md-nav__link">
    Merge commit descriptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resolving-an-impasse-or-conflict" class="md-nav__link">
    Resolving an impasse or conflict
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escalation" class="md-nav__link">
    Escalation
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contribution_tools/" class="md-nav__link">
        Contribution tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cpp_style_guide/" class="md-nav__link">
        C++ style guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../design_style_guide/" class="md-nav__link">
        Language design style guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../difficulties_improving_cpp/" class="md-nav__link">
        Difficulties improving C++
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../evolution/" class="md-nav__link">
        Evolution and governance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        Project FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../goals/" class="md-nav__link">
        Goals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pull_request_workflow/" class="md-nav__link">
        Trunk-based pull-request GitHub workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        Roadmap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap_process/" class="md-nav__link">
        Roadmap process
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_14" type="checkbox" id="__nav_5_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5_14">
          Principles
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Principles" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_14">
          <span class="md-nav__icon md-icon"></span>
          Principles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/" class="md-nav__link">
        Principles
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/error_handling/" class="md-nav__link">
        Principle: Errors are values
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/information_accumulation/" class="md-nav__link">
        Principle: Information accumulation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/library_apis_only/" class="md-nav__link">
        Principle: All APIs are library APIs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/low_context_sensitivity/" class="md-nav__link">
        Principle: Low context-sensitivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/one_way/" class="md-nav__link">
        Principle: Prefer providing only one way to do a given thing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/safety_strategy/" class="md-nav__link">
        Safety strategy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/static_open_extension/" class="md-nav__link">
        Principle: One static open extension mechanism
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../principles/success_criteria/" class="md-nav__link">
        Principle: Success criteria
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Spec
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Spec" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Spec
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/" class="md-nav__link">
        Spec
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Lang
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lang" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Lang
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/" class="md-nav__link">
        Carbon language specification
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/execution/" class="md-nav__link">
        Execution
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/lex/" class="md-nav__link">
        Lexical analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/libs/" class="md-nav__link">
        Libraries and packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/names/" class="md-nav__link">
        Names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/parsing/" class="md-nav__link">
        Parsing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lang/semantics/" class="md-nav__link">
        Semantic analysis
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Lib
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Lib" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Lib
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spec/lib/" class="md-nav__link">
        Carbon standard library specification
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-level-goals-of-code-review" class="md-nav__link">
    High level goals of code review
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-requires-review" class="md-nav__link">
    What requires review?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#who-should-review" class="md-nav__link">
    Who should review?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-pull-request-mechanics" class="md-nav__link">
    GitHub pull request mechanics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-author-guide" class="md-nav__link">
    Code author guide
  </a>
  
    <nav class="md-nav" aria-label="Code author guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#write-good-change-descriptions" class="md-nav__link">
    Write good change descriptions
  </a>
  
    <nav class="md-nav" aria-label="Write good change descriptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-line" class="md-nav__link">
    First line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#body" class="md-nav__link">
    Body
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make-small-changes" class="md-nav__link">
    Make small changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responding-to-review-comments" class="md-nav__link">
    Responding to review comments
  </a>
  
    <nav class="md-nav" aria-label="Responding to review comments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#responding-to-questions-or-confusion" class="md-nav__link">
    Responding to questions or confusion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understand-the-feedback-in-the-comments" class="md-nav__link">
    Understand the feedback in the comments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-reviewer-guide" class="md-nav__link">
    Code reviewer guide
  </a>
  
    <nav class="md-nav" aria-label="Code reviewer guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-quickly-should-you-respond-to-a-review-request" class="md-nav__link">
    How quickly should you respond to a review request?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-should-be-covered-by-a-review" class="md-nav__link">
    What should be covered by a review?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-review-comments" class="md-nav__link">
    Writing review comments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#approving-the-change" class="md-nav__link">
    Approving the change
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merging-pull-requests" class="md-nav__link">
    Merging pull requests
  </a>
  
    <nav class="md-nav" aria-label="Merging pull requests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#merge-commit-descriptions" class="md-nav__link">
    Merge commit descriptions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resolving-an-impasse-or-conflict" class="md-nav__link">
    Resolving an impasse or conflict
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#escalation" class="md-nav__link">
    Escalation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="code-review">Code review</h1>
<!--
Part of the Carbon Language project, under the Apache License v2.0 with LLVM
Exceptions. See /LICENSE for license information.
SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
-->

<!-- toc -->

<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li><a href="#high-level-goals-of-code-review">High level goals of code review</a></li>
<li><a href="#what-requires-review">What requires review?</a></li>
<li><a href="#who-should-review">Who should review?</a></li>
<li><a href="#github-pull-request-mechanics">GitHub pull request mechanics</a></li>
<li><a href="#code-author-guide">Code author guide</a><ul>
<li><a href="#write-good-change-descriptions">Write good change descriptions</a><ul>
<li><a href="#first-line">First line</a></li>
<li><a href="#body">Body</a></li>
</ul>
</li>
<li><a href="#make-small-changes">Make small changes</a></li>
<li><a href="#responding-to-review-comments">Responding to review comments</a><ul>
<li><a href="#responding-to-questions-or-confusion">Responding to questions or confusion</a></li>
<li><a href="#understand-the-feedback-in-the-comments">Understand the feedback in the comments</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#code-reviewer-guide">Code reviewer guide</a><ul>
<li><a href="#how-quickly-should-you-respond-to-a-review-request">How quickly should you respond to a review request?</a></li>
<li><a href="#what-should-be-covered-by-a-review">What should be covered by a review?</a></li>
<li><a href="#writing-review-comments">Writing review comments</a></li>
<li><a href="#approving-the-change">Approving the change</a></li>
</ul>
</li>
<li><a href="#merging-pull-requests">Merging pull requests</a><ul>
<li><a href="#merge-commit-descriptions">Merge commit descriptions</a></li>
</ul>
</li>
<li><a href="#resolving-an-impasse-or-conflict">Resolving an impasse or conflict</a></li>
<li><a href="#escalation">Escalation</a></li>
</ul>
<!-- tocstop -->

<h2 id="high-level-goals-of-code-review">High level goals of code review</h2>
<p>Code review serves several goals in the Carbon project. It directly improves the
correctness, clarity, and consistency of contributions, including both code and
documentation. These improvements range from the high-level functionality down
through the design and implementation details. It also promotes team ownership
and spreads knowledge across the team.</p>
<p>More detailed discussions can be found in chapter 9 "Code Review" of the book
<em><a href="https://www.amazon.com/Software-Engineering-Google-Lessons-Programming/dp/1492082791">Software Engineering at Google</a></em>
and chapter 21 "Collaborative Construction" in
<em><a href="https://www.amazon.com/Code-Complete-Practical-Handbook-Construction/dp/0735619670/">Code Complete: A Practical Handbook of Software Construction</a></em>.
However, these details aren't essential to understanding code review and how it
works in the Carbon project. All of the important details are provided in the
project documentation.</p>
<h2 id="what-requires-review">What requires review?</h2>
<p>Every change to Carbon's repositories requires code review. Even formal
<a href="../evolution/">evolution decisions</a> which have been approved should have their
specific changes to the repository reviewed.</p>
<p>Many changes to Carbon repositories may <em>only</em> require code review. Typically,
these include bug fixes, and development or documentation improvements clearly
in line with accepted designs. It may in some rare cases extend to exploring
experimental or prototype directions whose design is under active consideration.</p>
<p>The term "code review" in the Carbon project is not only about "code". We expect
changes to any files to be reviewed, including documentation and any other
material stored in the repository.</p>
<h2 id="who-should-review">Who should review?</h2>
<p>Everyone should feel free to review Carbon changes. Even providing small or
partial review can be a good way to start contributing to Carbon. Contributors
with specific domain expertise or familiarity should also try to provide review
on changes touching relevant parts of the project.</p>
<p>Additionally, at least one developer with commit access must review each change.
In Carbon, developers will focus on particular areas, loosely broken down as:</p>
<ul>
<li>
<p><a href="../groups/#carbon-leads">Carbon leads</a>: <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/proposals/">proposals</a> and other
    important project documents, including the <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/README.md">Main README</a>,
    <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/CODE_OF_CONDUCT.md">Code of Conduct</a>, <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/LICENSE">license</a>, and
    <a href="../goals/">goals</a>.</p>
</li>
<li>
<p><a href="../groups/#implementation-team">Implementation team</a>: general changes.</p>
<ul>
<li>We split out auto-assignment by
    <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/.github/assign_prs/explorer.yaml">explorer</a>,
    <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/.github/assign_prs/toolchain.yaml">toolchain</a>, and
    <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/.github/assign_prs/fallback.yaml">other files, including documentation</a>.</li>
</ul>
</li>
</ul>
<p><a href="https://github.com/carbon-language/carbon-lang/tree/trunk/.github/workflows/assign_prs.yaml">Auto-assignment</a> will help find owners, but
won't always be perfect -- developers may take a PR they weren't auto-assigned
in order to help review go quickly. Contributors can also request multiple
reviewers, but it can be daunting to get feedback from a large number of
reviewers, so we suggest keeping the number of reviewers reasonably small.</p>
<p>Any reviews that explicitly request changes should be addressed, either with the
changes or an explanation of why not, before a pull request is merged. Further,
any owners who have requested changes should explicitly confirm they're happy
with the resolution before the change is merged.</p>
<p>When a team gives an affirm decision on an <a href="../evolution/">evolution proposal</a>,
each team member should explicitly note any of their comments on the pull
request that, while not blocking the <em>decision</em>, still need to be resolved as
part of code review prior to it being merged. These might, for example, be
trivial or minor wording tweaks or improvements. Otherwise, the decision is
assumed to mean the prior review comments from members of that team are
addressed; the author is free to merge once the pull request is approved,
possibly with a code review separate from the proposal's review.</p>
<h2 id="github-pull-request-mechanics">GitHub pull request mechanics</h2>
<p>Carbon uses GitHub pull requests for code review, and we recommend some
mechanical best practices to most effectively navigate them.</p>
<ul>
<li>Be aware that the main thread of pull request doesn't support threaded
    discussions or "resolving" a comment.<ul>
<li>If either of those would be useful, you'll probably want to comment on a
    file.</li>
<li>You can quote comments in the main conversation thread in a reply by
    clicking the three-dot menu on the original comment and selecting "Quote
    reply".</li>
</ul>
</li>
<li>If you will want to comment on files, don't comment in the pull request
    conversation.<ul>
<li>Always go to the <code>Files Changed</code> tab.</li>
<li>Make any in-file comments needed, but add them to a pending review
    rather than sending them directly.</li>
<li>Finish the review and add any top-level review comments there.</li>
</ul>
</li>
<li>If you are an owner who will be providing approval for the change, then make
    sure to mark a review as requesting changes when you want the author to
    begin addressing your comment. Only use the "comment" review state if you
    are still in the process of reviewing and don't expect the author to begin
    working on further changes.<ul>
<li>If you are not an owner asked to approve, use the difference between a
    comment and requesting a change to help the author know whether to
    circle back with you before landing the pull request if the relevant
    owner(s) approve it.</li>
</ul>
</li>
<li>Don't reply to in-file comment threads in the conversation view, or with
    direct single reply comments.<ul>
<li>Add all replies to in-file comment threads using the <code>Files Changed</code> tab
    and by adding each reply to a new review, and posting them as a batch
    when done.</li>
<li>You can get to the appropriate <code>Files Changed</code> tab by clicking on the
    change listed in the conversation view with the incoming set of in-file
    comments.</li>
<li>This flow ensures an explicit update in the overall pull request that
    can help both the author and other reviewers note that new replies have
    arrived.</li>
</ul>
</li>
<li>Don't reply to an in-file comment and then mark it as resolved. No one will
    see your reply as the thread will be hidden immediately when marked as
    resolved.<ul>
<li>Generally, the person who started the comment thread should mark it as
    resolved when their comments are sufficiently addressed. If another
    reviewer is also on the thread and should also agree, just state that
    you're happy and the last reviewer can mark it resolved.</li>
<li>Trivially resolved threads can just be marked as "resolved" without
    further update. Examples: a suggested change that has been successfully
    applied, or a thread where the relevant reviewers have clearly indicated
    they're happy.</li>
</ul>
</li>
</ul>
<h2 id="code-author-guide">Code author guide</h2>
<p>The goal of an author should be to ensure their change improves the overall
code, repository, and/or project. Within the context of code review, the goal is
to get a reviewer to validate that the change succeeds at this goal. That
involves finding an effective reviewer given the particular nature of the
change, helping them understand the change fully, and addressing any feedback
they provide.</p>
<h3 id="write-good-change-descriptions">Write good change descriptions</h3>
<p>The change description in the pull request is the first thing your reviewers
will see. This sets the context for the entire review, and is very important.</p>
<h4 id="first-line">First line</h4>
<p>The first line of a commit, or the subject of the pull request, should be a
short summary of specifically what is being done by that change. It should be a
complete sentence, written as though it was an order. Try to keep it short,
focused, and to the point.</p>
<h4 id="body">Body</h4>
<p>The description body may need to explain several important aspects of the change
to provide context for the reviewer when it isn't obvious from the change
itself:</p>
<ul>
<li>The problem being solved by the change.</li>
<li>Why the approach taken is the best one.</li>
<li>Any issues, concerns, or shortcomings of the approach.</li>
<li>Any alternatives considered or attempted.</li>
<li>Relevant supporting data such as examples or benchmarks.</li>
</ul>
<p>Try to anticipate what information the reviewer of your change will need to have
in order to be effective. Also consider what information someone else will need
a year in the future when doing archaeology on the codebase and they come across
your change without any context.</p>
<h3 id="make-small-changes">Make small changes</h3>
<p>Small changes have many benefits:</p>
<ul>
<li>Faster review.</li>
<li>More thorough review.</li>
<li>Easier to merge.</li>
<li>Easier to revert if needed.</li>
</ul>
<p>The ideal size of a change is as small as possible while it remains
self-contained. It should address only <em>one thing</em>. Often, this results in a
change only addressing <em>part</em> of a feature rather than the whole thing at once.
This makes work more incremental, letting the reviewer understand it piece by
piece. It can also make it much easier to critically evaluate whether each part
of a feature is adequately tested by showing it in isolation.</p>
<p>That said, a change should not be so small that its implications cannot easily
be understood. It is fine to provide the reviewer context or a framework of a
series of changes so they understand the big picture, but that will only go so
far. It is still possible to shrink a change so much that it becomes nonsensical
in isolation. For example, a change without appropriate tests is not
self-contained.</p>
<p>You may want to use a set of stacked pull requests rather than a single, larger
pull request in order to keep changes easy to review.</p>
<blockquote>
<p>TODO: link to the stacked pull request documentation when available.</p>
</blockquote>
<h3 id="responding-to-review-comments">Responding to review comments</h3>
<p>Many comments have easy and simple responses. The easiest is <strong>"Done"</strong>. When
the comment is a concrete suggestion that makes sense and you implement it, you
can simply let the reviewer know their suggestion has been incorporated. If the
<em>way</em> you implemented the suggestion might need clarification, add that as well.
For example, consider mentioning tweaks to the suggestion or when the suggestion
was applied in more places.</p>
<p>When a suggestion from the reviewer is explicitly optional, you may also have a
simple response that you're not going to make the change. This is totally fine
-- if it weren't, the reviewer shouldn't have listed it as optional -- but it
may be helpful to explain your reasoning to the reviewer so they understand
better why the optional suggestion didn't make sense to you.</p>
<p>Sometimes comments, even optional ones, center around slight differences or
preferences around the code. Consider that the reviewer may be a good proxy for
future readers. If the suggestion is essentially equivalent to your original
code, consider adopting it as it may make the code easier to read for others.
But if you feel the current choice is <em>better</em>, even if only slightly, stand up
for yourself and keep it. The reviewer can always push for a change and justify
it if needed.</p>
<p>For non-optional comments, this section provides several suggestions on how best
to make progress. If none of these work, you may need to
<a href="#resolving-an-impasse-or-conflict">resolve an impasse or conflict</a>.</p>
<h4 id="responding-to-questions-or-confusion">Responding to questions or confusion</h4>
<p>Some comments in code review will be questions or confusion as the reviewer
tries to understand the code in question or why a particular approach was used.
Don't assume that questions are a request for a change. Reviewers should be
explicit if they think a change is needed rather than merely asking questions.
You should assume a question or confusion is something which only needs to be
clarified.</p>
<p>However, when responding to a question or confusion, consider making changes to
improve clarity in addition to responding within the review, such as by adding
comments or changing code structure. The reviewer may not be the last person to
need more clarity, and you should use their comments as a signal for
improvement. Once done, the review response should typically focus on verifying
that the clarifications made in the code are sufficient for the reviewer.</p>
<h4 id="understand-the-feedback-in-the-comments">Understand the feedback in the comments</h4>
<p>At times, review comments may be confusing or frustrating for you. While this is
something we always want reviewers to minimize, it will still happen at some
times and to some degree. It helps to remember that the goal of the review is to
ensure the change results in the project improving over time.</p>
<p>If the review comment doesn't make sense, ask the reviewer to help you
understand the feedback better. If it isn't constructive or doesn't seem to
provide any meaningful path forward, ask the reviewer to provide this. Making
comments both clear and constructive are part of the reviewers'
responsibilities.</p>
<p>Once there is a clear and effectively communicated comment that you understand,
it may still feel wrong or like it is unnecessarily blocking your progress. It
is important to try to step back in this situation and, no matter how certain
you are, genuinely consider whether there is valuable feedback. You should be
asking yourself whether the reviewer might be correct, potentially in an
unexpected or surprising way. If you can't decide this definitively, you may
need to work to get a deeper understanding.</p>
<p>If you are confident that the reviewer's comment is incorrect, that is <em>OK</em>. The
reviewer is also only human and is certain to make mistakes and miss things. The
response needs to try to explain what it is that leads you to be confident in
your assessment. Lay out the information you have and how you are reasoning
about the issue to arrive at the conclusion. Try not to make assumptions about
what the reviewer knows or why they made the comment. Instead, focus on
surfacing explicitly your perspective on the issue.</p>
<p>These parts of a review will often be a discussion and may need to iterate a few
times. That isn't intrinsically bad, but try to make sure that it doesn't result
in reiterating positions or repeating things. Make sure the discussion is
<em>progressing</em> towards deeper understanding and recognize when you reach an
impasse or conflict and shift strategy to
<a href="#resolving-an-impasse-or-conflict">resolve that</a>. It is also useful to avoid
long delays between these iterations. Consider discussing over Discord chat or
scheduling a quick video chat on the specific issue. This can avoid multi-hour
-- or multi-day -- round trips.</p>
<h2 id="code-reviewer-guide">Code reviewer guide</h2>
<p>The specific goal for a particular review should always be to ensure that the
overall health of the code, repository, and/or project improves over time. This
requires that contributions <em>make progress</em> -- otherwise, nothing can improve.
However, the review should ensure that quality of changes does not cause the
health of the project to decrease over time.</p>
<p>The primary responsibility for ensuring that code review remains constructive,
productive, and helpful resides in the <em>reviewer</em>. As a reviewer, you are in a
position of power and asked to critique the authors hard work. With this power
comes responsibility for conducting the review well.</p>
<h3 id="how-quickly-should-you-respond-to-a-review-request">How quickly should you respond to a review request?</h3>
<p>Try to respond to code review requests as soon as you can without interrupting a
focused task. At the latest, the next day you are working on the project. Note
that the review isn't expected to necessarily be complete after a single review.
It is more valuable to give reasonably quick but partial feedback than to delay
feedback in order to complete it. If leaving partial feedback, make it clear to
the author which parts are covered and which you haven't gotten to yet.</p>
<p>Large changes are especially important to give incremental feedback on in order
to do so in a timely fashion. One of the first things to consider with large
changes is whether it can be split apart into smaller changes that are easier to
review promptly.</p>
<p>This timeliness guidance doesn't apply to the higher-level
<a href="../evolution/">evolution process</a> reviews. Evaluating those proposals will often
require a larger time investment and have their own timelines spelled out in the
process. Here, we are talking about simply reviewing changes themselves
orthogonally to any evolutionary discussion and evaluation.</p>
<h3 id="what-should-be-covered-by-a-review">What should be covered by a review?</h3>
<p>Things to consider and evaluate when reviewing changes:</p>
<ul>
<li>Is the code well designed?<ul>
<li>Is the resulting functionality, including its interface, good for the
    users of the code?</li>
<li>Does the resulting design facilitate long-term maintenance?</li>
<li>Can the code be simplified? Is there unnecessary complexity?</li>
<li>Are things being implemented that aren't yet needed and only <em>might</em> be
    needed in the future?</li>
</ul>
</li>
<li>Is the code free of bugs and well tested?<ul>
<li>Is memory safely managed?</li>
<li>Is any parallel or concurrent programming done safely?</li>
<li>Do unit tests cover relevant behaviors and edge cases?</li>
<li>Do any integration tests need to be extended or added?</li>
<li>Do any fuzz tests need to be extended or added?</li>
<li>Are any tests well designed to be both thorough but also maintainable
    over time?</li>
</ul>
</li>
<li>Is the code easy to read?<ul>
<li>Are the names used in the code clear?</li>
<li>Are all important or non-obvious aspects of the code well commented? Do
    the comments focus on <em>why</em> instead of <em>what</em>?</li>
<li>Is there appropriate high level documentation for the change?</li>
<li>Does the change adhere to all relevant style guides?</li>
<li>Is the change consistent with other parts of the project?</li>
</ul>
</li>
</ul>
<h3 id="writing-review-comments">Writing review comments</h3>
<p>These are general guidelines for writing effective code review comments:</p>
<ul>
<li><strong>Be kind.</strong> Detailed review, especially in an open source project, can be
    stressful and difficult for the author. As a reviewer, part of the job is to
    ensure the review experience ends up positive and constructive for the
    author.</li>
<li><strong>Stay constructive.</strong> Focus your comments on suggesting specific ways to
    improve the change. If you need to explain why an improvement is necessary,
    focus on objective ways the improvement helps and avoid both subjective
    assessments and anchoring on problems with the current state.</li>
<li><strong>Explain why.</strong> It is important for the author to understand not merely the
    mechanical suggested change but what motivates it and why it matters. This
    may help clear up misunderstandings, help the suggestion be understood and
    applied more effectively, and allow internalizing improvements for future
    contributions.</li>
<li><strong>Provide a path forward.</strong> The author needs to understand what they will
    need to do to respond to your comments. For example, always provide
    alternatives when commenting that the current approach won't work.</li>
</ul>
<p>Keep in mind that the goal is to improve the overall health of the code,
repository, and/or project over time. Sometimes, there will be pushback on
review comments. Consider carefully if the author is correct -- they may be
closer to the technical issues than you are and may have important insight. Also
consider whether the suggestion is necessary to achieve the overall goal. If the
suggestion isn't critical to make the change an overall improvement, it may be
fine for it to move forward as-is.</p>
<p>As with all communication in the Carbon project, it is critical that your
comments are not unkind, unwelcoming, angry, ad-hominem attacks, or otherwise
violating our community's <a href="https://github.com/carbon-language/carbon-lang/tree/trunk/CODE_OF_CONDUCT.md">code of conduct</a>.</p>
<h3 id="approving-the-change">Approving the change</h3>
<p>Be explicit and unambiguous at the end of your review. Select "Approve" when
submitting the review to mark this in GitHub. You can always include a message,
often "LGTM" or "Looks Good To Me" is often used. If you don't feel like you're
in a position to approve the change and are simply helping out with review
feedback, make that explicit as well. You should set the review to a "Comment"
in GitHub, but also state this explicitly in the message since this is the
default and doesn't indicate that your feedback <em>is</em> addressed. For example, say
that "my comments are addressed, but leaving the final review to others" to
clearly indicate that you're happy but are deferring the decision to others. If
you are an owner and deferring to someone else, it is essential to suggest
specific other reviewers. Otherwise, we risk all the owners assuming another is
going to approve the change.</p>
<p>An important technique to make progress, especially with different working hours
and timezones, is to approve changes even with outstanding comments. For
example, if the comments you have are straightforward and have unambiguous fixes
or suggested edits, you should give an LGTM with those comments addressed. The
author can always come back to you if they have questions, and we can always
revert changes if the resolution for some reason diverges wildly from your
expectations.</p>
<h2 id="merging-pull-requests">Merging pull requests</h2>
<p>Pull requests are ready to be merged when reviewers have indicated they're happy
(for example, "LGTM" or "Looks good to me") or have approved the pull request.
While all merges require at least one approval, a reviewer might approve before
others are finished reviewing; all reviewers should be given time to comment to
ensure there's a consensus.</p>
<p>Either the author or reviewer may merge and resolve conflicts. The author may
indicate they want to merge by informing the reviewer and adding the
<code>DO NOT MERGE</code> label. The reviewer is encouraged to coordinate with the author
about merge timing if there are concerns about breaks. In either case, the
developer doing the merge is expected to be available to help address
post-commit issues, whether through a fix-forward or a rollback.</p>
<h3 id="merge-commit-descriptions">Merge commit descriptions</h3>
<p>When squashing and merging, GitHub tries to generate a description, but it's
recommended to use the first comment on the pull request review for the squashed
commit description. Authors should keep it up-to-date so that reviewers can
merge when the change is ready. Reviewers shouldn't edit or rewrite this message
themselves, and instead ask the author make those changes (possibly with
suggestions) just like other parts of the code review. It's important that the
commit message is one the author is comfortable with when merged.</p>
<p>When suggested edits have been merged into a pull request, GitHub will append a
<code>Co-authored-by:</code> line to its default proposed commit message for each reviewer
who suggested edits that were applied. These lines should be retained and
appended to the message from the initial comment.</p>
<h2 id="resolving-an-impasse-or-conflict">Resolving an impasse or conflict</h2>
<p>At some point, a review may reach an impasse or a genuine conflict. While our
goal is always to resolve these by building consensus in review, it may not be
possible. Both the author and any reviewers should be careful to recognize when
this point arrives and address it directly. Continuing the review is unlikely to
be productive and has a high risk of becoming acrimonious or worse.</p>
<p>There are two techniques to use to resolve these situations that should be tried
early on:</p>
<ol>
<li>
<p>Bring another person into the review to help address the specific issue.
   Typically they should at least be an owner, and may usefully be a
   <a href="../groups/#carbon-leads">Carbon lead</a>.</p>
</li>
<li>
<p>Ask the specific question in a broader forum, such as Discord, in order to
   get a broad set of perspectives on a particular area or issue.</p>
</li>
</ol>
<p>The goal of these steps isn't to override the author or the reviewer, but to get
more perspectives and voices involved. Often this will clarify the issue and its
trade-offs, and provide a simple resolution that all parties are happy with.
However, in some cases, the underlying conflict isn't actually addressed. While
there is a desire to generally bias towards the direction of the owners during
reviews, reviews should <em>not</em> turn into a voting process. The reason for
proceeding in a specific direction should always be explained sufficiently that
all parties on the review are satisfied by the explanation and don't feel the
need to escalate.</p>
<p>Fundamentally, both reviewers and the author need to agree on the direction to
move forward. If reaching that agreement proves impossible, the review should be
<a href="#escalation">escalated</a>. If you feel like an escalation is needed in a review,
be explicit and clear in requesting it. There is nothing bad about going through
this process, but it should only occur when needed and so it helps to be very
clear.</p>
<p>Once the impasse or conflict is addressed, it is <em>essential</em> to commit to that
direction. It can be especially difficult for the author to accept a direction
that they initially disagree with and make changes to their code as a result. An
essential skill is the ability to
<a href="https://en.wikipedia.org/wiki/Disagree_and_commit">disagree and commit</a>.</p>
<h2 id="escalation">Escalation</h2>
<p>At the explicit request of any <a href="../evolution/#carbon-leads-1">Carbon lead</a> or to
resolve any fundamental impasse in a review, the change should move to a formal
<a href="../evolution/#proposals">proposal</a>. Ultimately, the Carbon project
<a href="../evolution/#governance-structure">governance</a> structure is always available as
an escalation path.</p>
<p>Before escalating an impasse or conflict in code review, try asking another
reviewer to help resolve the issue or bridge any communication gaps. Consider
scheduling a quick video chat to discuss and better understand each others'
concerns and position.</p>
<p>Note that the formal evolution process is heavyweight and relatively slow. The
expectation is that this is rarely used and only to resolve serious and severe
disagreements. If this becomes a more common problem, lighter weight processes
may be needed to help ensure a reasonable rate of progress.</p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: Project" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Project
            </div>
          </div>
        </a>
      
      
        
        <a href="../contribution_tools/" class="md-footer__link md-footer__link--next" aria-label="Next: Contribution tools" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Contribution tools
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>